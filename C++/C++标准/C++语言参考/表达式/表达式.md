---
tags:
  - CPP
---

# 表达式

**表达式是_运算符_和它们的_操作数_的序列，它指定一项计算。**

表达式的求值可以产生一个结果（比如 2+2 的求值产生结果 4），也可能产生副作用（比如对 `std::printf("%d",4)` 的求值在标准输出上打印字符 '4'）。

#### 概述

- [[值类别#值类别|值类别]]（左值 (lvalue)、右值 (rvalue)、泛左值 (glvalue)、纯右值 (prvalue)、亡值 (xvalue)）是根据表达式的值所进行的分类
- 实参和子表达式的[[求值顺序]]指定获得中间结果所用的顺序

### 运算符

| 运算符类型 | 运算符       | 说明              |
| ----- | --------- | --------------- |
| 赋值    | `a = b`   | 赋值操作            |
|       | `a += b`  | 赋值并加            |
|       | `a -= b`  | 赋值并减            |
|       | `a *= b`  | 赋值并乘            |
|       | `a /= b`  | 赋值并除            |
|       | `a %= b`  | 赋值并取模           |
|       | `a &= b`  | 赋值并按位与          |
|       | `a\|=b`   | 赋值并按位或          |
|       | `a ^= b`  | 赋值并按位异或         |
|       | `a <<= b` | 赋值并左移           |
|       | `a >>= b` | 赋值并右移           |
| 自增    | `++a`     | 前自增             |
| 自减    | `--a`     | 前自减             |
|       | `a++`     | 后自增             |
|       | `a--`     | 后自减             |
| 算术    | `+a`      | 正号              |
|       | `-a`      | 负号              |
|       | `a + b`   | 加法              |
|       | `a - b`   | 减法              |
|       | `a * b`   | 乘法              |
|       | `a / b`   | 除法              |
|       | `a % b`   | 取模              |
|       | `~a`      | 按位取反            |
|       | `a & b`   | 按位与             |
|       | `a\|b`    | 按位或             |
|       | `a ^ b`   | 按位异或            |
|       | `a << b`  | 左移              |
|       | `a >> b`  | 右移              |
| 逻辑    | `!a`      | 逻辑非             |
|       | `a && b`  | 逻辑与             |
|       | `a\|\|b`  | 逻辑或             |
| 比较    | `a == b`  | 等于              |
|       | `a != b`  | 不等              |
|       | `a < b`   | 小于              |
|       | `a > b`   | 大于              |
|       | `a <= b`  | 小于等于            |
|       | `a >= b`  | 大于等于            |
|       | `a <=> b` | 三方比较（C++20 起）   |
| 成员访问  | `a[b]`    | 下标运算符           |
|       | `*a`      | 解引用运算符          |
|       | `&a`      | 地址运算符           |
|       | `a->b`    | 指针访问成员          |
|       | `a.b`     | 访问成员            |
|       | `a->*b`   | 指针访问成员（指针指向的成员） |
|       | `a.*b`    | 成员指针访问          |
| 其他    | `a(...)`  | 函数调用            |
|       | `a, b`    | 逗号运算符           |
|       | `? :`     | 三元运算符           |

| 特殊运算符 | 运算符                            | 说明                                                               |
| :---: | ------------------------------ | ---------------------------------------------------------------- |
|   ^   | `static_cast<type>(expr)`      | 转换一个类型为另一相关类型                                                    |
|   ^   | `dynamic_cast<type>(expr)`     | 在继承层级中转换                                                         |
|   ^   | `const_cast<type>(expr)`       | 添加或移除 `const`/`volatile` 限定符                                     |
|   ^   | `reinterpret_cast<type>(expr)` | 转换类型到无关类型                                                        |
|   ^   | `C 风格转型`                       | 以 `static_cast`、`const_cast` 和 `reinterpret_cast` 的混合转换一个类型到另一类型 |
|   ^   | `new`                          | 创建有动态存储期的对象                                                      |
|   ^   | `delete`                       | 销毁先前由 `new` 表达式创建的对象，并释放其所拥有的内存区域                                |
|   ^   | `sizeof`                       | 查询类型的大小                                                          |
|   ^   | `sizeof...`                    | 查询形参包的大小（C++11 起）                                                |
|   ^   | `typeid`                       | 查询类型的类型信息                                                        |
|   ^   | `noexcept`                     | 查询表达式是否能抛出异常（C++11 起）                                            |
|   ^   | `alignof`                      | 查询类型的对齐要求（C++11 起）                                               |
