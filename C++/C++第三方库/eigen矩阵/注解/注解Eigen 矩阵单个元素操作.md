# 注解Eigen 矩阵单个元素操作

### 针对每个元素的向量化操作

```cpp
R = P.cwiseProduct(Q);    // 对应元素相乘
```

**作用**：计算矩阵 `P` 和 `Q` 的对应元素的乘积，结果存储在矩阵 `R` 中。这常用于需要逐元素计算的场合，如加权和。

```cpp
R = P.array() * s.array(); // 每个元素与标量相乘
```

**作用**：将矩阵 `P` 的每个元素与标量 `s` 相乘，结果存储在矩阵 `R` 中。适合快速缩放矩阵。

```cpp
R = P.cwiseQuotient(Q);   // 对应元素相除
```

**作用**：计算矩阵 `P` 和 `Q` 的对应元素的商，结果存储在矩阵 `R` 中。这用于比例计算。

```cpp
R = P.array() / Q.array(); // 每个元素相除
```

**作用**：将矩阵 `P` 的每个元素除以矩阵 `Q` 的对应元素，结果存储在矩阵 `R` 中。适用于标准化和归一化。

```cpp
R = P.array() + s.array(); // 每个元素加上标量
```

**作用**：将矩阵 `P` 的每个元素加上标量 `s`，结果存储在矩阵 `R` 中。常用于调整偏移量。

```cpp
R = P.array() - s.array(); // 每个元素减去标量
```

**作用**：将矩阵 `P` 的每个元素减去标量 `s`，结果存储在矩阵 `R` 中。这通常用于中心化数据。

```cpp
R.array() += s;           // 每个元素加上标量（自增）
```

**作用**：将标量 `s` 加到矩阵 `R` 的每个元素，更新 `R`。这种自增形式简化了代码。

```cpp
R.array() -= s;           // 每个元素减去标量（自减）
```

**作用**：将矩阵 `R` 的每个元素减去标量 `s`，并更新 `R`。便于直接操作结果。

```cpp
R.array() < Q.array();    // 逐元素比较
```

**作用**：比较矩阵 `R` 和 `Q` 的每个元素，返回一个布尔矩阵，表示 `R` 中的元素是否小于 `Q` 中的对应元素。

```cpp
R.array() <= Q.array();   // 逐元素小于等于比较
```

**作用**：判断 `R` 的元素是否小于等于 `Q` 的对应元素，返回布尔矩阵。这用于条件过滤。

```cpp
R.cwiseInverse();         // 逐元素求倒数
```

**作用**：计算矩阵 `P` 中每个元素的倒数，结果存储在 `R` 中。这在处理比率时非常有用。

```cpp
R.array().inverse();      // 逐元素求倒数（等效于 cwiseInverse）
```

**作用**：同样计算矩阵 `P` 每个元素的倒数，结果存储在 `R` 中。

```cpp
R.array().sin();          // 每个元素的正弦值
```

**作用**：计算矩阵 `P` 每个元素的正弦值，结果存储在矩阵 `R` 中。适用于周期性函数计算。

```cpp
R.array().cos();          // 每个元素的余弦值
```

**作用**：计算矩阵 `P` 每个元素的余弦值，结果存储在矩阵 `R` 中。常用于三角函数处理。

```cpp
R.array().pow(s);         // 每个元素的幂
```

**作用**：计算矩阵 `P` 中每个元素的 `s` 次幂，结果存储在矩阵 `R` 中。

```cpp
R.array().square();       // 每个元素的平方
```

**作用**：计算矩阵 `P` 每个元素的平方，结果存储在矩阵 `R` 中。常用于计算能量等。

```cpp
R.array().cube();         // 每个元素的立方
```

**作用**：计算矩阵 `P` 中每个元素的立方，结果存储在矩阵 `R` 中。

```cpp
R.cwiseSqrt();            // 每个元素的平方根
```

**作用**：计算矩阵 `P` 每个元素的平方根，结果存储在矩阵 `R` 中。

```cpp
R.array().sqrt();         // 逐元素平方根
```

**作用**：同样计算矩阵 `P` 每个元素的平方根，结果存储在 `R` 中。

```cpp
R.array().exp();          // 每个元素的指数
```

**作用**：计算矩阵 `P` 中每个元素的指数，结果存储在矩阵 `R` 中。

```cpp
R.array().log();          // 每个元素的自然对数
```

**作用**：计算矩阵 `P` 每个元素的自然对数，结果存储在矩阵 `R` 中。

```cpp
R.cwiseMax(P);            // 逐元素最大值
```

**作用**：计算矩阵 `R` 和 `P` 中每个元素的最大值，结果存储在 `R` 中。这在比较结果时常用。

```cpp
R.array().max(P.array()); // 逐元素最大值（另一种方式）
```

**作用**：与上面相似，计算矩阵 `R` 和 `P` 的逐元素最大值。

```cpp
R.cwiseMin(P);            // 逐元素最小值
```

**作用**：计算矩阵 `R` 和 `P` 中每个元素的最小值，结果存储在 `R` 中。

```cpp
R.array().min(P.array()); // 逐元素最小值（另一种方式）
```

**作用**：与上面相似，计算矩阵 `R` 和 `P` 的逐元素最小值。

```cpp
R.cwiseAbs();             // 逐元素绝对值
```

**作用**：计算矩阵 `P` 中每个元素的绝对值，结果存储在矩阵 `R` 中。

```cpp
R.array().abs();          // 逐元素绝对值（另一种方式）
```

**作用**：同样计算矩阵 `P` 中每个元素的绝对值。

```cpp
R.cwiseAbs2();            // 逐元素平方绝对值
```

**作用**：计算矩阵 `P` 每个元素的平方绝对值，结果存储在 `R` 中。

```cpp
R.array().abs2();         // 逐元素平方绝对值（另一种方式）
```

**作用**：与上面相似，计算矩阵 `P` 每个元素的平方绝对值。

```cpp
(R.array() < s).select(P, Q); // 条件选择
```

**作用**：如果矩阵 `R` 的元素小于标量 `s`，则选择矩阵 `P` 的对应元素，否则选择矩阵 `Q` 的对应元素。这种操作常用于条件赋值。

这些操作通过对矩阵的每个元素进行独立处理，极大地提高了计算的灵活性和效率。若有更多需求或具体示例，请告诉我！
